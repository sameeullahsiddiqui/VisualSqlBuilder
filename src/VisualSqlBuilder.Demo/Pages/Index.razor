@page "/"

@using VisualSqlBuilder.Core.Components

<PageTitle>Visual SQL Query Builder</PageTitle>

<SqlQueryBuilder @ref="_sqlBuilder" ConnectionString="@connStr" OnQueryGenerated="@HandleQuery" />

@code {
    private string connStr = "Server=.;Database=deals_db;Trusted_Connection=True;";
    private SqlQueryBuilder? _sqlBuilder;

    private Task HandleQuery(string sql)
    {
        Console.WriteLine($"Generated SQL: {sql}");
        return Task.CompletedTask;
    }
}